<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Health Care Center</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
    background:#f4f6f8;
    font-family:'Segoe UI',sans-serif;
}
.navbar{background:#111827;}
.hero-card{
    background:#ffffff;
    border-radius:16px;
    padding:50px;
    box-shadow:0 10px 30px rgba(0,0,0,.06);
}
.form-card{
    background:#ffffff;
    border-radius:14px;
    padding:35px;
    box-shadow:0 6px 18px rgba(0,0,0,.06);
}
.form-card label{
    font-weight:600;
    color:#111827;
}
#transcription{
    font-size:0.9rem;
    color:#2563eb;
    margin-top:6px;
}
.result-btn{
    min-width:150px;
    font-weight:600;
}
footer{background:#111827;}
</style>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark shadow">
<div class="container-fluid">
<img src="{{ url_for('static', filename='images/doctor.png') }}"
style="width:42px;height:42px;border-radius:50%;border:2px solid #fff"
class="me-2">

<a class="navbar-brand fw-bold" href="/">Health Center</a>

<button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#nav">
<span class="navbar-toggler-icon"></span>
</button>

<div class="collapse navbar-collapse" id="nav">
<ul class="navbar-nav ms-auto">
<li class="nav-item"><a class="nav-link active" href="/">Home</a></li>
<li class="nav-item"><a class="nav-link" href="/about">About</a></li>
<li class="nav-item"><a class="nav-link" href="/contact">Contact</a></li>
<li class="nav-item"><a class="nav-link" href="/developer">Developer</a></li>
<li class="nav-item"><a class="nav-link" href="/blog">Blog</a></li>
</ul>
</div>
</div>
</nav>

<!-- HERO -->
<div class="container my-5">
<div class="hero-card text-center">
<h1 class="fw-bold">AI Health Care Center</h1>
<p class="text-muted mt-2">
Predict diseases instantly using AI-powered symptom analysis
</p>
</div>
</div>

<!-- FORM -->
<div class="container mb-5">
<div class="form-card">

<form action="/predict" method="post">
<label class="form-label">Enter Symptoms</label>
<input type="text"
class="form-control mb-3"
id="symptoms"
name="symptoms"
placeholder="itching,skin_rash,headache">

<button type="button"
id="startSpeechRecognition"
class="btn btn-outline-primary btn-sm mb-2">
ðŸŽ¤ Speak Symptoms
</button>

<div id="transcription"></div>

{% if message %}
<div class="alert alert-warning mt-3">{{ message }}</div>
{% endif %}

<button type="submit"
class="btn btn-danger btn-lg w-100 mt-3">
Predict Disease
</button>
</form>

</div>
</div>

{% if predicted_disease %}

<!-- RESULTS -->
<div class="container mb-5 text-center">
<h3 class="fw-bold mb-4">Prediction Results</h3>

<div class="d-flex flex-wrap justify-content-center gap-3">
<button class="btn btn-warning result-btn" data-bs-toggle="modal" data-bs-target="#diseaseModal">Disease</button>
<button class="btn btn-info result-btn" data-bs-toggle="modal" data-bs-target="#descriptionModal">Description</button>
<button class="btn btn-secondary result-btn" data-bs-toggle="modal" data-bs-target="#precautionModal">Precautions</button>
<button class="btn btn-danger result-btn" data-bs-toggle="modal" data-bs-target="#medicationsModal">Medications</button>
<button class="btn btn-success result-btn" data-bs-toggle="modal" data-bs-target="#workoutsModal">Workouts</button>
<button class="btn btn-dark result-btn" data-bs-toggle="modal" data-bs-target="#dietsModal">Diet</button>
</div>
</div>

{% endif %}

<!-- MODALS (UNCHANGED DATA) -->
<div class="modal fade" id="diseaseModal" tabindex="-1">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header bg-dark text-white">
<h5 class="modal-title">Predicted Disease</h5>
<button class="btn-close" data-bs-dismiss="modal"></button>
</div>
<div class="modal-body">{{ predicted_disease }}</div>
</div>
</div>
</div>

<div class="modal fade" id="descriptionModal" tabindex="-1">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header bg-dark text-white">
<h5 class="modal-title">Description</h5>
<button class="btn-close" data-bs-dismiss="modal"></button>
</div>
<div class="modal-body">{{ dis_des }}</div>
</div>
</div>
</div>

<div class="modal fade" id="precautionModal" tabindex="-1">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header bg-dark text-white">
<h5 class="modal-title">Precautions</h5>
<button class="btn-close" data-bs-dismiss="modal"></button>
</div>
<div class="modal-body">
<ul>
{% for i in my_precautions %}
<li>{{ i }}</li>
{% endfor %}
</ul>
</div>
</div>
</div>
</div>

<div class="modal fade" id="medicationsModal" tabindex="-1">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header bg-dark text-white">
<h5 class="modal-title">Medications</h5>
<button class="btn-close" data-bs-dismiss="modal"></button>
</div>
<div class="modal-body">
<ul>
{% for i in medications %}
<li>{{ i }}</li>
{% endfor %}
</ul>
</div>
</div>
</div>
</div>

<div class="modal fade" id="workoutsModal" tabindex="-1">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header bg-dark text-white">
<h5 class="modal-title">Workouts</h5>
<button class="btn-close" data-bs-dismiss="modal"></button>
</div>
<div class="modal-body">
<ul>
{% for i in workout %}
<li>{{ i }}</li>
{% endfor %}
</ul>
</div>
</div>
</div>
</div>

<div class="modal fade" id="dietsModal" tabindex="-1">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header bg-dark text-white">
<h5 class="modal-title">Diet</h5>
<button class="btn-close" data-bs-dismiss="modal"></button>
</div>
<div class="modal-body">
<ul>
{% for i in my_diet %}
<li>{{ i }}</li>
{% endfor %}
</ul>
</div>
</div>
</div>
</div>

<!-- FOOTER -->
<footer class="text-white text-center py-3">
Â© 2025 Health Care Center
</footer>

<!-- SPEECH -->
<script>
const btn = document.getElementById('startSpeechRecognition');
const output = document.getElementById('transcription');
const input = document.getElementById('symptoms');

btn.addEventListener('click', () => {
    const recognition = new webkitSpeechRecognition();
    recognition.lang = 'en-US';
    recognition.onresult = function (event) {
        let text = event.results[0][0].transcript;
        text = text.toLowerCase().replaceAll(" ", "_");
        input.value = text;
        output.textContent = "Recognized: " + text;
    };
    recognition.start();
});
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
